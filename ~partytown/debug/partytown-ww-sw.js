(e=>{let t=Symbol(),r=Symbol(),n=Symbol(),i=Symbol(),s=Symbol(),o=Symbol(),a=Symbol(),l=Symbol(),c=new Map,d={},u=new WeakMap,h=[],g={},p=new Map,f=new Map,m={},w=new Map,y=new Map,$=e=>e.split(","),v=e=>{if(e=g.$libPath$+e,new URL(e).origin!=location.origin)throw"Invalid "+e;return e},b=$("clientWidth,clientHeight,clientTop,clientLeft,innerWidth,innerHeight,offsetWidth,offsetHeight,offsetTop,offsetLeft,outerWidth,outerHeight,pageXOffset,pageYOffset,scrollWidth,scrollHeight,scrollTop,scrollLeft"),_=$("childElementCount,children,firstElementChild,lastElementChild,nextElementSibling,previousElementSibling"),S=$("insertBefore,remove,removeChild,replaceChild"),I=$("className,width,height,hidden,innerHTML,innerText,textContent"),T=$("setAttribute,setAttributeNS,setProperty"),E=$("addEventListener,dispatchEvent,removeEventListener"),M=E.concat(T,$("add,observe,remove,unobserve")),x=/^[A-Z_]([A-Z0-9-]*[A-Z0-9])?$/,C=()=>{},N=e=>e.length,L=e=>{var t,r,n;try{let i=null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name;if(i)return i}catch(s){}try{let o=null===(n=null===(r=null==e?void 0:e.__zone_symbol__originalInstance)||void 0===r?void 0:r.constructor)||void 0===n?void 0:n.name;if(o)return o}catch(a){}return""},W=[],k=()=>Math.round(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),A=(e,t,r)=>Object.defineProperty(e,t,{...r,configurable:!0}),j=(e,t)=>A(e,"name",{value:t}),H=(e,t,r)=>A(e.prototype,t,r),D=(e,t)=>Object.defineProperties(e.prototype,t),R=(e,t,r)=>H(e,t,{value:r,writable:!0}),O=(e,t)=>t in e[o],P=(e,t)=>e[o][t],B=(e,t,r)=>e[o][t]=r,G=(e,t)=>((t=u.get(e))||(u.set(e,t=k()),d[t]=e),t),z=(e,t,r,n,i)=>((i=c.get(t))||!r||!m[e]||(i=m[e].$createNode$(r,t,n),c.set(t,i)),i),F=(e,t)=>R(e,"nodeType",t),U=(e,t)=>t.map(t=>H(e,t,{get(){let e=V(this,t),r=y.get(e);return r||(r=ey(this,[t]),y.set(e,r)),r}})),V=(e,n,i)=>[e[t],e[r],n,...(i||W).map(e=>String(e&&e[t]?e[r]:e))].join("."),q=(e,t)=>$(t).map(t=>H(e,t,{get(){return O(this,t)||B(this,t,ey(this,[t])),P(this,t)},set(e){P(this,t)!==e&&e$(this,[t],e),B(this,t,e)}})),Z=e=>b.map(t=>H(e,t,{get(){let e=w.get(V(this,t));if("number"==typeof e)return e;let r=ey(this,[t],b);return r&&"object"==typeof r?(Object.entries(r).map(([e,t])=>w.set(V(this,e),t)),r[t]):r}})),X=(e,t)=>t.map(t=>{e.prototype[t]=function(...e){let r=V(this,t,e),n=w.get(r);return n||(n=ev(this,[t],e),w.set(r,n)),n}}),Y=(e,n,i,s,o)=>void 0!==i&&(o=typeof i)?"string"===o||"boolean"===o||"number"===o||null==i?[0,i]:"function"===o?[4,{$winId$:e,$instanceId$:n,$refId$:G(i)}]:(s=s||new Set,Array.isArray(i))?s.has(i)?[1,[]]:s.add(i)&&[1,i.map(t=>Y(e,n,t,s))]:"object"===o?i[r]?[3,[i[t],i[r]]]:i instanceof Event?[5,Q(e,n,i,!1,s)]:K&&i instanceof TrustedHTML?[0,i.toString()]:i instanceof ArrayBuffer?[8,i]:ArrayBuffer.isView(i)?[9,i.buffer,L(i)]:[2,Q(e,n,i,!0,s)]:void 0:i,K="undefined"!=typeof TrustedHTML,Q=(e,t,r,n,i,s,o,a)=>{if(s={},!i.has(r))for(o in i.add(r),r)a=r[o],(n||"function"!=typeof a)&&(s[o]=Y(e,t,a,i));return s},J=(e,n)=>e?Y(e[t],e[r],n):[0,n],ee=(e,t,r,n,i,s,o,a)=>{if(n){if(i=n[0],s=n[1],0===i||11===i||12===i)return s;if(4===i)return er(r,s);if(6===i)return e&&r.length>0?(...t)=>ev(m[e].$window$,r,t,1):C;if(3===i)return et(s);if(7===i)return new ei(s.map(et));if(10===i)return new es(s);if(1===i)return s.map(n=>ee(e,t,r,n));if(14===i)return new en(s);for(a in o={},s)o[a]=ee(e,t,[...r,a],s[a]);if(13===i)return new m[e].$window$.CSSStyleDeclaration(e,t,r,o);if(5===i){if("message"===o.type&&o.origin){let l=JSON.stringify(o.data),c=h.find(e=>e.$data$===l),d;c&&(d=m[c.$winId$])&&(o.source=d.$window$,o.origin=d.$location$.origin)}return new Proxy(new Event(o.type,o),{get:(e,t)=>t in o?o[t]:"function"==typeof e[String(t)]?C:e[String(t)]})}if(2===i)return o}},et=([e,t,r])=>t===e&&m[e]?m[e].$window$:z(e,t,r),er=(e,{$winId$:t,$instanceId$:r,$nodeName$:n,$refId$:i})=>(d[i]||u.set(d[i]=function(...i){let s=z(t,r,n);return ev(s,e,i)},i),d[i]);class en extends Error{constructor(e){super(e.message),this.name=e.name,this.message=e.message,this.stack=e.stack}}let ei=class{constructor(e){(this._=e).map((e,t)=>this[t]=e)}entries(){return this._.entries()}forEach(e,t){this._.map(e,t)}item(e){return this[e]}keys(){return this._.keys()}get length(){return N(this._)}values(){return this._.values()}[Symbol.iterator](){return this._[Symbol.iterator]()}},es=class{constructor(e){this.name=e[0],this.value=e[1]}get nodeName(){return this.name}get nodeType(){return 2}},eo=(e,t,r)=>console.warn(`Partytown unable to ${e} cross-origin ${t}: `+r.$location$),ea=(t,r)=>{try{let n=g.$config$;if(n.logStackTraces){let i=Error().stack.split("\n"),s=i.findIndex(e=>e.includes("logWorker"));t+="\n"+i.slice(s+1).join("\n")}let o,a;r?(o=`Worker (${e9(r)}) ðŸŽ‰`,a=ec(r)):(o=e.name,a="#9844bf"),g.lastLog!==t&&(g.lastLog=t,console.debug.apply(console,[`%c${o}`,`background: ${a}; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;`,t]))}catch(l){}},el=[],e9=e=>(el.includes(e)||el.push(e),el.indexOf(e)+1),ec=e=>{let t=["#00309e","#ea3655","#eea727"],r=e9(e)-1;return t[r]||t[t.length-1]},ed=(e,t)=>{let i="";if(e){e[r];let o=L(e);if("Window"===o)i="";else if("string"==typeof e[n]){let a=e[n];i="#text"===a?"textNode.":"#comment"===a?"commentNode.":"#document"===a?"document.":"html"===a?"doctype.":a.toLowerCase()+"."}else i="nodeType"in e&&2===e.nodeType?"attributes.":"CanvasRenderingContext2D"===o?"context2D.":"CanvasRenderingContextWebGL"===o?"contextWebGL.":"CSSStyleDeclaration"===o?"style.":"MutationObserver"===o?"mutationObserver.":"NamedNodeMap"===o?"namedNodeMap.":"ResizeObserver"===o?"resizeObserver.":o.substring(0,1).toLowerCase()+o.substring(1)+".";e[s]&&e[s].length&&(i+=[...e[s]].join(".")+".")}if(t.length>1){let l=t.slice(0,t.length-1),c=t[t.length-1];if(!isNaN(c))return i+`${l.join(".")}[${c}]`}return i+t.join(".")},eu=(e,t)=>{var i;let s=typeof t;if(void 0===t)return"undefined";if("boolean"===s||"number"===s||null==t)return JSON.stringify(t);if("string"===s)return e.includes("cookie")?JSON.stringify(t.slice(0,10)+"..."):JSON.stringify(t.length>50?t.slice(0,40)+"...":t);if(Array.isArray(t))return`[${t.map(eu).join(", ")}]`;if("object"===s){let o=t[r],a=L(t);if("string"==typeof o){if("Window"===a)return"window";if("string"==typeof t[n]){if(1===t.nodeType)return`<${t[n].toLowerCase()}>`;if(10===t.nodeType)return`<!DOCTYPE ${t[n]}>`;if(t.nodeType<=11)return t[n]}return"\xaf\\_(ãƒ„)_/\xaf instance obj"}return t[Symbol.iterator]?`[${Array.from(t).map(t=>eu(e,t)).join(", ")}]`:"value"in t?"string"==typeof t.value?`"${t.value}"`:eh(t.value):eh(t)}return"object"==typeof(i=t)&&i&&i.then?"Promise":"function"===s?`Æ’() ${t.name||""}`.trim():`\xaf\\_(ãƒ„)_/\xaf ${String(t)}`.trim()},eh=e=>{let t=[];for(let r in e){let n=e[r],i=typeof n;"string"===i?t.push(`${r}: "${n}"`):"function"===i?t.push(`${r}: Æ’`):Array.isArray(i)?t.push(`${r}: [..]`):"object"===i&&n?t.push(`${r}: {..}`):t.push(`${r}: ${String(n)}`)}let s=t.join(", ");return s.length>200&&(s=s.substring(0,200)+".."),`{ ${s} }`},eg=(e,r)=>{(g.$config$.logGetters||g.$config$.logSetters)&&ea(`Dimension cache cleared from style.${r} setter`,e[t])},ep=(e,r)=>{(g.$config$.logGetters||g.$config$.logCalls)&&ea(`Dimension cache cleared from method call ${r}()`,e[t])},ef=[],em=(e,n,i,o,a,l)=>{if(e[s]){if(ef.push({$winId$:e[t],$instanceId$:e[r],$applyPath$:[...e[s],...n],$assignInstanceId$:o,$groupedGetters$:a}),ef[N(ef)-1].$debug$=((e,t,r)=>{let n=ed(e,t);return 1===r?n+=" (blocking)":2===r?n+=" (non-blocking)":3===r&&(n+=" (non-blocking, no-side-effect)"),n.trim()})(e,n,i),l&&3!==i&&console.error("buffer must be sent NonBlockingNoSideEffect"),3===i)g.$postMessage$([12,{$msgId$:k(),$tasks$:[...ef]}],l?[l instanceof ArrayBuffer?l:l.buffer]:void 0),ef.length=0;else if(1===i)return ew(!0);g.$asyncMsgTimer$=setTimeout(ew,20)}},ew=e=>{if(clearTimeout(g.$asyncMsgTimer$),N(ef)){g.$config$.logMainAccess&&ea(`Main access, tasks sent: ${ef.length}`);let t=ef[N(ef)-1],r={$msgId$:k(),$tasks$:[...ef]};if(ef.length=0,e){let n=((e,t)=>{let r=new XMLHttpRequest;return r.open("POST",v("proxytown"),!1),r.send(JSON.stringify(t)),JSON.parse(r.responseText)})(0,r),i=n.$isPromise$,s=ee(t.$winId$,t.$instanceId$,t.$applyPath$,n.$rtnValue$);if(n.$error$){if(i)return Promise.reject(n.$error$);throw Error(n.$error$)}return i?Promise.resolve(s):s}g.$postMessage$([12,r])}},ey=(e,r,n,i)=>(g.$config$.get&&(i=g.$config$.get(e_(e,r)))!==a||(i=em(e,r,1,void 0,n),((e,r,n,i=!1,s=!1)=>{if(g.$config$.logGetters)try{let o=`Get ${ed(e,r)}, returned: ${eu(r,n)}${i?" (restricted to worker)":""}${s?" (grouped getter)":""}`;o.includes("Symbol(")||ea(o,e[t])}catch(a){}})(e,r,i,!1,!!n)),i),e$=(e,r,n,i)=>{if(g.$config$.set){if((i=g.$config$.set({value:n,prevent:l,...e_(e,r)}))===l)return;i!==a&&(n=i)}if(I.some(e=>r.includes(e))){var s,o;w.clear(),s=e,o=r[r.length-1],(g.$config$.logGetters||g.$config$.logSetters)&&ea(`Dimension cache cleared from setter "${o}"`,s[t])}r=[...r,J(e,n),0],((e,r,n,i=!1)=>{if(g.$config$.logSetters)try{r=r.slice(0,r.length-2),ea(`Set ${ed(e,r)}, value: ${eu(r,n)}${i?" (restricted to worker)":""}`,e[t])}catch(s){}})(e,r,n),em(e,r,2)},ev=(e,r,n,i,s,o,l,c)=>{if(g.$config$.apply&&(l=g.$config$.apply({args:n,...e_(e,r)}))!==a)return l;if(c=r[N(r)-1],r=[...r,J(e,n)],i=i||(M.includes(c)?2:1),"setAttribute"===c&&O(e,n[0]))B(e,n[0],n[1]);else if(S.includes(c)){var d,u;w.clear(),y.clear(),d=e,u=c,(g.$config$.logGetters||g.$config$.logCalls)&&ea(`Dimension and DOM structure cache cleared from method call ${u}()`,d[t])}else T.includes(c)&&(i=2,w.clear(),ep(e,c));return l=em(e,r,i,s,void 0,o),((e,r,n,i)=>{if(g.$config$.logCalls)try{r=r.slice(0,r.length-1),ea(`Call ${ed(e,r)}(${n.map(e=>eu(r,e)).join(", ")}), returned: ${eu(r,i)}`,e[t])}catch(s){}})(e,r,n,l),l},eb=(e,r,n)=>{((e,r,n)=>{if(g.$config$.logCalls)try{ea(`Construct new ${r}(${n.map(e=>eu([],e)).join(", ")})`,e[t])}catch(i){}})(e,r,n),em(e,[1,r,J(e,n)],1)},e_=(e,t)=>({name:t.join("."),continue:a,nodeName:e[n],constructor:L(e)}),eS=(e,t,r,n,i)=>{let s=t=>((t=r.get(e.origin))||r.set(e.origin,t=[]),t),o=e=>s().findIndex(t=>t[eI]===e),a,l,c={getItem:e=>(a=o(e))>-1?s()[a][eT]:null,setItem(r,l){(a=o(r))>-1?s()[a][eT]=l:s().push([r,l]),n?ev(e,[t,"setItem"],[r,l],2):eo("set",t,i)},removeItem(r){(a=o(r))>-1&&s().splice(a,1),n?ev(e,[t,"removeItem"],[r],2):eo("remove",t,i)},key:e=>(l=s()[e])?l[eI]:null,clear(){s().length=0,n?ev(e,[t,"clear"],W,2):eo("clear",t,i)},get length(){return s().length}};e[t]=c},eI=0,eT=1,eE=(e,t,r)=>{e[r]=j(class extends t{constructor(e,t,r,i){return super(e,t,r,i||{}),new Proxy(this,{get:(e,t)=>e[t]?e[t]:(e[t]||"string"!=typeof t||e[n][t]||(e[n][t]=ey(e,[t])),e[n][t]),set:(e,t,r)=>(e[n][t]=r,e$(e,[t],r),eg(e,t),w.clear(),!0)})}setProperty(...e){this[n][e[0]]=e[1],ev(this,["setProperty"],e,2),eg(this,e[0]),w.clear()}getPropertyValue(e){return this[e]}removeProperty(e){let t=this[n][e];return ev(this,["removeProperty"],[e],2),eg(this,e),w.clear(),this[n][e]=void 0,t}},r)},eM=(e,t)=>{e[t]=j(class{constructor(e){this.ownerNode=e}get cssRules(){let e=this.ownerNode;return new Proxy({},{get(t,r){let n=String(r);return"item"===n?t=>eC(e,t):"length"===n?ex(e).length:isNaN(n)?t[r]:eC(e,n)}})}insertRule(e,t){let r=ex(this.ownerNode);return(t=void 0===t?0:t)>=0&&t<=r.length&&(ev(this.ownerNode,["sheet","insertRule"],[e,t],2),r.splice(t,0,0)),ep(this.ownerNode,"insertRule"),w.clear(),t}deleteRule(e){ev(this.ownerNode,["sheet","deleteRule"],[e],2),ex(this.ownerNode).splice(e,1),ep(this.ownerNode,"deleteRule"),w.clear()}get type(){return"text/css"}},t);let r={sheet:{get(){return new e[t](this)}}};D(e.HTMLStyleElement,r)},ex=(e,t)=>((t=P(e,2))||(t=ey(e,["sheet","cssRules"]),B(e,2,t)),t),eC=(e,t,r)=>(0===(r=ex(e))[t]&&(r[t]=ey(e,["sheet","cssRules",parseInt(t,10)])),r[t]),eN=(e,t,r,n,i)=>{try{g.$config$.logScriptExecution&&ea(`Execute script: ${r.substring(0,100).split("\n").map(e=>e.trim()).join(" ").trim().substring(0,60)}...`,n),e.$currentScriptId$=t,eL(e,r)}catch(s){console.error(r,s),i=String(s.stack||s)}return e.$currentScriptId$="",i},eL=(e,t,r)=>{e.$runWindowLoadEvent$=1,t=`with(this){${t.replace(/\bthis\b/g,"(thi$(this)?window:this)").replace(/\/\/# so/g,"//Xso")}
;function thi$(t){return t===this}};${(g.$config$.globalFns||[]).filter(e=>/[a-zA-Z_$][0-9a-zA-Z_$]*/.test(e)).map(e=>`(typeof ${e}=='function'&&(this.${e}=${e}))`).join(";")};`+(r?"\n//# sourceURL="+r:""),e.$isSameOrigin$||(t=t.replace(/.postMessage\(/g,`.postMessage('${e.$winId$}',`)),Function(t).call(e.$window$),e.$runWindowLoadEvent$=0},eW=(e,t,r)=>{(r=P(e,t))&&setTimeout(()=>r.map(e=>e({type:t})))},ek=(e,t,r,n,i,s)=>{for(n=e.$location$;!n.host&&(n=(e=m[e.$parentWinId$]).$location$,e.$winId$!==e.$parentWinId$););return(i=new URL(t||"",n),r&&g.$config$.resolveUrl&&(s=g.$config$.resolveUrl(i,n,r)))?s:i},e0=(e,t,r)=>ek(e,t,r)+"",eA=()=>`<script src="${v("partytown.js?v=0.7.0")}"></script>`,ej=e=>class t{constructor(){this.s="",this.l=[],this.e=[],this.style={}}get src(){return this.s}set src(t){g.$config$.logImageRequests&&ea(`Image() request: ${e0(e,t,null)}`,e.$winId$),this.s=t,fetch(e0(e,t,null),{mode:"no-cors",credentials:"include",keepalive:!0}).then(e=>{e.ok||0===e.status?this.l.map(e=>e({type:"load"})):this.e.map(e=>e({type:"error"}))},()=>this.e.forEach(e=>e({type:"error"})))}addEventListener(e,t){"load"===e&&this.l.push(t),"error"===e&&this.e.push(t)}get onload(){return this.l[0]}set onload(e){this.l=[e]}get onerror(){return this.e[0]}set onerror(e){this.e=[e]}},eH={addEventListener:{value(...e){let t=e[0],r=P(this,t)||[];r.push(e[1]),B(this,t,r)}},async:{get:C,set:C},defer:{get:C,set:C},onload:{get(){let e=P(this,"load");return e&&e[0]||null},set(e){B(this,"load",e?[e]:null)}},onerror:{get(){let e=P(this,"error");return e&&e[0]||null},set(e){B(this,"error",e?[e]:null)}},getAttribute:{value(e){return"src"===e?this.src:ev(this,["getAttribute"],[e])}},setAttribute:{value(e,t){eD.includes(e)?this[e]=t:ev(this,["setAttribute"],[e,t])}}},eD=$("src,type"),eR=(e,t)=>{let r={innerHTML:eO,innerText:eO,src:{get(){return P(this,4)||""},set(e){let r=e0(t,e,null),n=g.$config$;if(e=e0(t,e,"script"),B(this,4,e),e$(this,["src"],e),r!==e&&e$(this,["dataset","ptsrc"],r),this.type&&n.loadScriptsOnMainThread){let i=n.loadScriptsOnMainThread.some(t=>t===e);i&&e$(this,["type"],"text/javascript")}}},textContent:eO,type:{get(){return ey(this,["type"])},set(e){eP(e)||(B(this,5,e),e$(this,["type"],e))}},...eH};D(e,r)},eO={get(){return P(this,3)||""},set(e){B(this,3,e)}},eP=e=>!e||"text/javascript"===e,e8=(e,i,s)=>{let o=g.$config$,a=j(class extends s{appendChild(e){return this.insertBefore(e,null)}get href(){}set href(e){}insertBefore(e,s){var a,l,c,d;let u=e[t]=this[t],h=e[r],p=e[n],f="SCRIPT"===p;if(f){let w=P(e,3),y=P(e,5);if(w){if(eP(y)){let $=e.id,v=$&&(null===(l=null===(a=o.loadScriptsOnMainThread)||void 0===a?void 0:a.includes)||void 0===l?void 0:l.call(a,$));if(v)e$(e,["type"],"text/javascript");else{let b=eN(i,h,w,u,"");e$(e,["type"],"text/partytown-x"),e$(e,["dataset",b?"pterror":"ptid"],b||h)}}e$(e,["innerHTML"],w)}}if(ev(this,["insertBefore"],[e,s],2),"IFRAME"===p){let _=P(e,0);if(_&&_.startsWith("javascript:")){let S=_.split("javascript:")[1];eN(i,h,S,u,"")}let I,T,E,M;c=h,d=e,I=0,(M=()=>{m[c]&&m[c].$isInitialized$&&!m[c].$isLoading$?(T=P(d,1)?"error":"load",(E=P(d,T))&&E.map(e=>e({type:T}))):I++>2e3?(E=P(d,"error"))&&E.map(e=>e({type:"error"})):setTimeout(M,9)})()}return f&&(ew(!0),g.$postMessage$([7,u])),e}get nodeName(){return"#s"===this[n]?"#document-fragment":this[n]}get nodeType(){return 3}get ownerDocument(){return i.$document$}},"Node");U(a,$("childNodes,firstChild,isConnected,lastChild,nextSibling,parentElement,parentNode,previousSibling")),e.Node=a},e1=$("AUDIO,CANVAS,VIDEO"),eB=$("Audio,MediaSource"),e7=(e,r,n)=>{let i={body:{get:()=>r.$body$},cookie:{get(){return r.$isSameOrigin$?ey(this,["cookie"]):(eo("get","cookie",r),"")},set(e){r.$isSameOrigin$?e$(this,["cookie"],e):eo("set","cookie",r)}},createElement:{value(e){if(e=e.toUpperCase(),!x.test(e))throw e+" not valid";let r="IFRAME"===e,n=this[t],i=(r?"f_":"")+k();ev(this,["createElement"],[e],2,i);let s=z(n,i,e);if(r){let o=eq({$winId$:i,$parentWinId$:n,$url$:"about:blank"},!0);o.$window$.fetch=fetch,e$(s,["srcdoc"],eA())}else if("SCRIPT"===e){let a=P(s,5);eP(a)&&e$(s,["type"],"text/partytown")}return s}},createElementNS:{value(e,r){let n=k(),i=z(this[t],n,r,e);return ev(this,["createElementNS"],[e,r],2,n),i}},createTextNode:{value(e){let r=this[t],n=k(),i=z(r,n,"#text");return ev(this,["createTextNode"],[e],2,n),i}},createEvent:{value:e=>new Event(e)},currentScript:{get(){return r.$currentScriptId$?z(this[t],r.$currentScriptId$,"SCRIPT"):null}},defaultView:{get:()=>n?null:r.$window$},documentElement:{get:()=>r.$documentElement$},getElementsByTagName:{value(e){return"BODY"===(e=e.toUpperCase())?[r.$body$]:"HEAD"===e?[r.$head$]:ev(this,["getElementsByTagName"],[e])}},head:{get:()=>r.$head$},images:{get(){return ey(this,["images"])}},implementation:{get(){return{hasFeature:()=>!0,createHTMLDocument:e=>{let t=k();ev(this,["implementation","createHTMLDocument"],[e],1,{$winId$:t});let n=eq({$winId$:t,$parentWinId$:t,$url$:r.$location$+"",$visibilityState$:"hidden"},!0,!0);return n.$document$}}}},location:{get:()=>r.$location$,set(e){r.$location$.href=e+""}},nodeType:{value:9},parentNode:{value:null},parentElement:{value:null},readyState:{value:"complete"},visibilityState:{get:()=>r.$visibilityState$||"visible"}};D(e,i),q(e,"compatMode,referrer,forms")},eG=(e,t)=>{let r={parentElement:{get(){return this.parentNode}},parentNode:{get:()=>t.$documentElement$}};D(e,r)},e2=(e,t)=>{let r={localName:{get(){return this[n].toLowerCase()}},namespaceURI:{get(){return this[i]||"http://www.w3.org/1999/xhtml"}},nodeType:{value:1},tagName:{get(){return this[n]}}};D(e,r),U(e,_),q(e,"id"),Z(t),X(t,$("getClientRects,getBoundingClientRect"))},e3=(e,t)=>{let r={};$("hash,host,hostname,href,origin,pathname,port,protocol,search").map(e=>{r[e]={get(){let r=P(this,4),n;return"string"!=typeof r&&(n=ey(this,["href"]),B(this,4,n),r=new URL(n)[e]),ek(t,r,null)[e]},set(r){let n;if("href"===e){if((e=>{try{return new URL(e),!0}catch(t){return!1}})(r))n=new URL(r);else{let i=t.$location$.href;(n=ek(t,i,null)).href=new URL(r+"",n.href)}}else(n=ek(t,this.href,null))[e]=r;B(this,4,n.href),e$(this,["href"],n.href)}}}),D(e,r)},ez=(e,t)=>{let r={contentDocument:{get(){return eF(this).$document$}},contentWindow:{get(){return eF(this).$window$}},src:{get(){let e=P(this,0);return e&&e.startsWith("javascript:")?e:(e=eF(this).$location$.href).startsWith("about:")?"":e},set(e){if(e){if(e.startsWith("javascript:"))B(this,0,e);else if(!e.startsWith("about:")){let t=new XMLHttpRequest,r,n=eF(this);n.$location$.href=e=e0(n,e,"iframe"),n.$isLoading$=1,B(this,1,void 0),t.open("GET",e,!1),t.send(),(r=t.status)>199&&r<300?(e$(this,["srcdoc"],`<base href="${e}">`+t.responseText.replace(/<script>/g,'<script type="text/partytown">').replace(/<script /g,'<script type="text/partytown" ').replace(/text\/javascript/g,"text/partytown")+eA()),ew(!0),g.$postMessage$([7,n.$winId$])):(B(this,1,r),n.$isLoading$=0)}}}},...eH};D(e,r)},eF=e=>{let n=e[r];return m[n]||eq({$winId$:n,$parentWinId$:e[t],$url$:ey(e,["src"])||"about:blank"},!0),m[n]},eU=e=>{let t=(e,t)=>{let{a:r,b:n,c:i,d:s,e:o,f:a}=ev(e,[t],W);return new DOMMatrixReadOnly([r,n,i,s,o,a])},r={...e,getCTM:{value:function(){return t(this,"getCTM")}},getScreenCTM:{value:function(){return t(this,"getScreenCTM")}}};D(e,r)},e5=(a,l,c,d,u,w)=>{let y,b,S,I=class{constructor(e,l,c,d,u){this[t]=e||a,this[r]=l||y||k(),this[s]=c||[],this[n]=d||b,this[i]=u||S,this[o]={},y=b=S=void 0}},T=j(class extends URL{assign(){ea("location.assign(), noop")}reload(){ea("location.reload(), noop")}replace(){ea("location.replace(), noop")}},"Location"),M=new T(c),x=M.origin===g.$origin$||"about:blank"===M.origin,C=l===a,W={},G=()=>{let e=[],t,r;for(t in m)(r=m[t]).$parentWinId$!==a||r.$isTopWindow$||e.push(r);return e},V=j(class extends I{constructor(){super(a,a);let n=this,i,o,c=0,h=()=>{c||((g.$initWindowMedia$||(e.$bridgeToMedia$=[ey,e$,ev,eb,D,k,t,r,s],g.$importScripts$(v("partytown-media.js?v=0.7.0")),g.$initWindowMedia$=e.$bridgeFromMedia$,delete e.$bridgeFromMedia$),g.$initWindowMedia$)(I,K,W,n,eB),c=1)},m={},T=(e,t,r)=>{e1.includes(e)&&h();let n=m[e]?m[e]:e.includes("-")?m.UNKNOWN:m.I;return y=t,b=e,S=r,new n};if(n.Window=V,n.name=name+`${e9(a)} (${a})`,e8(n,W,I),eE(n,I,"CSSStyleDeclaration"),((e,t,r)=>{e[r]=j(class extends t{now(){return performance.now()}},r)})(n,I,"Performance"),((e,t)=>{let r=new Map;e.customElements={define(n,i,s){r.set(n,i),t[n.toUpperCase()]=i;let o=[i.name,i.observedAttributes];ev(e,["customElements","define"],[n,o,s])},get:t=>r.get(t)||ev(e,["customElements","get"],[t]),whenDefined:t=>r.has(t)?Promise.resolve():ev(e,["customElements","whenDefined"],[t]),upgrade:t=>ev(e,["customElements","upgrade"],[t])}})(n,m),g.$interfaces$.map(([e,t,i,o,l])=>{let c=eV[e]?Y:"EventTarget"===t?K:"Object"===t?I:n[t],d=n[e]=j(12===o?class extends I{constructor(...t){super(),eb(this,e,t)}}:n[e]||class extends c{},e);l&&(m[l]=d),i.map(([e,t,i])=>{e in d.prototype||e in c.prototype||("string"==typeof t?H(d,e,{get(){if(!O(this,e)){let i=this[r],o=[...this[s],e],l=n[t];l&&B(this,e,new l(a,i,o))}return P(this,e)},set(t){B(this,e,t)}}):5===t?R(d,e,function(...t){return ev(this,[e],t)}):t>0&&(void 0!==i?R(d,e,i):H(d,e,{get(){return ey(this,[e])},set(t){return e$(this,[e],t)}})))})}),$("atob,btoa,crypto,indexedDB,setTimeout,setInterval,clearTimeout,clearInterval").map(t=>{delete V.prototype[t],t in n||null==(i=e[t])||(n[t]="function"!=typeof i||i.toString().startsWith("class")?i:i.bind(e))}),Object.getOwnPropertyNames(e).map(t=>{t in n||(n[t]=e[t])}),eB.map(e=>A(n,e,{get:()=>(h(),n[e])})),"trustedTypes"in e&&(n.trustedTypes=e.trustedTypes),e2(n.Element,n.HTMLElement),e7(n.Document,W,w),(e=>{F(e,11),U(e,_)})(n.DocumentFragment),e3(n.HTMLAnchorElement,W),(e=>{D(e,{}),q(e,"elements")})(n.HTMLFormElement),ez(n.HTMLIFrameElement),eR(n.HTMLScriptElement,W),eU(n.SVGGraphicsElement),eG(n.HTMLHeadElement,W),eG(n.HTMLBodyElement,W),((e,t)=>{let r={parentElement:{value:null},parentNode:{get:()=>t.$document$}};D(e,r)})(n.HTMLHtmlElement,W),eM(n,"CSSStyleSheet"),F(n.Comment,8),F(n.DocumentType,10),Object.assign(W,{$winId$:a,$parentWinId$:l,$window$:new Proxy(n,{get:(e,t)=>{var r;if("string"!=typeof t||isNaN(t))return(null===(r=g.$config$.mainWindowAccessors)||void 0===r?void 0:r.includes(t))?ey(this,[t]):e[t];{let n=G()[t];return n?n.$window$:void 0}},has:()=>!0}),$document$:T("#document",a+".d"),$documentElement$:T("HTML",a+".e"),$head$:T("HEAD",a+".h"),$body$:T("BODY",a+".b"),$location$:M,$visibilityState$:d,$isSameOrigin$:x,$isTopWindow$:C,$createNode$:T}),n.requestAnimationFrame=e=>setTimeout(()=>e(performance.now()),9),n.cancelAnimationFrame=e=>clearTimeout(e),n.requestIdleCallback=(e,t)=>(t=Date.now(),setTimeout(()=>e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))}),1)),n.cancelIdleCallback=e=>clearTimeout(e),eS(n,"localStorage",p,x,W),eS(n,"sessionStorage",f,x,W),x||(n.indexeddb=void 0),u)o={},n.history={pushState(e){o=e},replaceState(e){o=e},get state(){return o},length:0},n.indexeddb=void 0;else{let E=n.history.pushState.bind(n.history),N=n.history.replaceState.bind(n.history);n.history.pushState=(e,t,r)=>{!1!==W.$propagateHistoryChange$&&E(e,t,r)},n.history.replaceState=(e,t,r)=>{!1!==W.$propagateHistoryChange$&&N(e,t,r)}}n.Worker=void 0}addEventListener(...e){"load"===e[0]?W.$runWindowLoadEvent$&&setTimeout(()=>e[1]({type:"load"})):ev(this,["addEventListener"],e,2)}get body(){return W.$body$}get document(){return W.$document$}get documentElement(){return W.$documentElement$}fetch(e,t){return fetch(e0(W,e="string"==typeof e||e instanceof URL?String(e):e.url,"fetch"),t)}get frames(){return W.$window$}get frameElement(){return C?null:z(l,a,"IFRAME")}get globalThis(){return W.$window$}get head(){return W.$head$}get length(){return G().length}get location(){return M}set location(e){M.href=e+""}get Image(){return ej(W)}get navigator(){return(e=>{let t,r={sendBeacon(t,r){if(g.$config$.logSendBeaconRequests)try{ea(`sendBeacon: ${e0(e,t,null)}${r?", data: "+JSON.stringify(r):""}`)}catch(n){console.error(n)}try{return fetch(e0(e,t,null),{method:"POST",body:r,mode:"no-cors",keepalive:!0}),!0}catch(i){return console.error(i),!1}}};for(t in navigator)r[t]=navigator[t];return r})(W)}get origin(){return M.origin}set origin(e){}get parent(){for(let e in m)if(m[e].$winId$===l)return m[e].$window$;return W.$window$}postMessage(...e){m[e[0]]&&(N(h)>50&&h.splice(0,5),h.push({$winId$:e[0],$data$:JSON.stringify(e[1])}),e=e.slice(1)),ev(this,["postMessage"],e,3)}get self(){return W.$window$}get top(){for(let e in m)if(m[e].$isTopWindow$)return m[e].$window$;return W.$window$}get window(){return W.$window$}get XMLHttpRequest(){let e=XMLHttpRequest,t=String(e),r=j(class extends e{open(...e){e[1]=e0(W,e[1],"xhr"),super.open(...e)}set withCredentials(e){}toString(){return t}},L(e));return r.prototype.constructor.toString=()=>t,r}},"Window"),Y=class extends I{constructor(e,t,r,n){return super(e,t,r,n),new Proxy(this,{get:(e,t)=>ey(e,[t]),set:(e,t,r)=>(e$(e,[t],r),!0)})}},K=class extends I{};return E.map(e=>K.prototype[e]=function(...t){return ev(this,[e],t,2)}),q(V,"devicePixelRatio"),Z(V),X(V,["getComputedStyle"]),new V,W},eV={DOMStringMap:1,NamedNodeMap:1},eq=({$winId$:e,$parentWinId$:t,$url$:r,$visibilityState$:n},i,s)=>{if(!m[e]){m[e]=e5(e,t,r,n,i,s);{let o=e===t?"top":"iframe";ea(`Created ${o} window ${e9(e)} environment`,e)}}return g.$postMessage$([7,e]),m[e]},eZ=[],e4=t=>{let r=t.data,n=r[0],i=r[1];if(g.$isInitialized$){if(7===n)(async e=>{let t=e.$winId$,r=e.$instanceId$,n=z(t,r,"SCRIPT"),i=e.$content$,s=e.$url$,o=e.$orgUrl$,a="",l=m[t],c;if(s)try{s=ek(l,s,"script")+"",B(n,4,s),g.$config$.logScriptExecution&&ea(`Execute script src: ${o}`,t),(c=await fetch(s)).ok?(i=await c.text(),l.$currentScriptId$=r,eL(l,i,o||s),eW(n,"load")):(a=c.statusText,eW(n,"error"))}catch(d){console.error(d),a=String(d.stack||d),eW(n,"error")}else i&&(a=eN(l,r,i,t,a));l.$currentScriptId$="",g.$postMessage$([6,t,r,a])})(i);else if(9===n)(({$winId$:e,$instanceId$:t,$refId$:r,$thisArg$:n,$args$:i})=>{if(d[r])try{d[r].apply(ee(e,t,[],n),ee(e,t,[],i))}catch(s){console.error(s)}})(i);else if(10===n)(({$winId$:e,$forward$:t,$args$:r})=>{try{let n=m[e].$window$,i=0,s=N(t);for(;i<s;i++)i+1<s?n=n[t[i]]:n[t[i]].apply(n,ee(null,e,[],r))}catch(o){console.error(o)}})(i);else if(5===n)eq(i);else if(8===n){if(1!==m[i].$isInitialized$){let s=i,o=m[s],a=o.$winId$===o.$parentWinId$?"top":"iframe";ea(`Initialized ${a} window ${e9(s)} environment ðŸŽ‰`,s)}m[i].$isInitialized$=1,m[i].$isLoading$=0}else if(14===n)m[i].$visibilityState$=r[2];else if(13===n){let l=i.$winId$,c=m[l];c.$location$.href=i.url,function(e,t,r){let n=t.$window$.history;switch(r.type){case 0:t.$propagateHistoryChange$=!1;try{n.pushState(r.state,"",r.newUrl)}catch(i){}t.$propagateHistoryChange$=!0;break;case 1:t.$propagateHistoryChange$=!1;try{n.replaceState(r.state,"",r.newUrl)}catch(s){}t.$propagateHistoryChange$=!0}}(i.$winId$,c,i)}else 15===n&&((e,t,r,n,i)=>{let s=z(t,r);s&&"function"==typeof s[n]&&s[n].apply(s,i)})(...r)}else 1===n?((t=>{let r=g.$config$=JSON.parse(t.$config$),n=t.$origin$;g.$importScripts$=importScripts.bind(e),g.$interfaces$=t.$interfaces$,g.$libPath$=t.$libPath$,g.$origin$=n,g.$postMessage$=postMessage.bind(e),g.$sharedDataBuffer$=t.$sharedDataBuffer$,p.set(n,t.$localStorage$),f.set(n,t.$sessionStorage$),e.importScripts=void 0,delete e.postMessage,delete e.WorkerGlobalScope,$("resolveUrl,get,set,apply").map(e=>{r[e]&&(r[e]=Function("return "+r[e])())})})(i),g.$postMessage$([2])):3===n?(g.$interfaces$=[...g.$interfaces$,...i],g.$isInitialized$=1,ea("Initialized web worker"),g.$postMessage$([4]),eZ.length&&ea(`Queued ready messages: ${eZ.length}`),[...eZ].map(e4),eZ.length=0):eZ.push(t)};e.onmessage=e4,postMessage([0])})(self);