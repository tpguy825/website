(e=>{let t=e=>"object"==typeof e&&e&&e.then,n=()=>{},r=e=>e.length,i=e=>{var t,n,r;try{let i=null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name;if(i)return i}catch(a){}try{let o=null===(r=null===(n=null==e?void 0:e.__zone_symbol__originalInstance)||void 0===n?void 0:n.constructor)||void 0===r?void 0:r.name;if(o)return o}catch(s){}return""},a=(e,t)=>e.startsWith(t),o=e=>!(a(e,"webkit")||a(e,"toJSON")||a(e,"constructor")||a(e,"toString")||a(e,"_")),s=e=>11===e.nodeType&&e.host?"#s":e.nodeName,d=()=>Math.round(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),l=(e,t)=>{var n,r,i;return r="name",Object.defineProperty(n=e,r,{value:t,configurable:!0})},c={Anchor:"a",DList:"dl",Image:"img",OList:"ol",Paragraph:"p",Quote:"q",TableCaption:"caption",TableCell:"td",TableCol:"colgroup",TableRow:"tr",TableSection:"tbody",UList:"ul"},p={Graphics:"g",SVG:"svg"},u=Symbol(),w=Symbol(),f=new Map,g=new Map,m={},y=new WeakMap,$=(e,t)=>{if(e)return(t=y.get(e))||(t=e[u])||b(e,t=d()),t},h=(e,t,n,r,i)=>{if((n=m[e])&&n.$window$){if(e===t)return n.$window$;if(r=n.$window$.document,"d"===(i=t.split(".").pop()))return r;if("e"===i)return r.documentElement;if("h"===i)return r.head;if("b"===i)return r.body}return f.get(t)},b=(e,t,n)=>{e&&(f.set(t,e),e[u]=t,e[w]=n=Date.now(),n>_+5e3&&(f.forEach((e,t)=>{e[w]<_&&e.nodeType&&!e.isConnected&&f.delete(t)}),_=n))},_=0,v=e.parent,I=document.implementation.createHTMLDocument(),S=v.partytown||{},E=(S.lib||"/~partytown/")+"debug/",T=e=>{console.debug.apply(console,["%cMain \uD83C\uDF0E","background: #717171; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;",e])},L=[],M=e=>(L.includes(e)||L.push(e),L.indexOf(e)+1),C=(e,t,n)=>{let r=l(class extends m[e].$window$.HTMLElement{},n[0]),i="connectedCallback,disconnectedCallback,attributeChangedCallback,adoptedCallback".split(",");return i.map(n=>r.prototype[n]=function(...r){t.postMessage([15,e,$(this),n,r])}),r.observedAttributes=n[1],r},k=(e,t,n,r,o)=>void 0!==t&&(r=typeof t)?"string"===r||"number"===r||"boolean"===r||null==t?[0,t]:"function"===r?[6]:(n=n||new Set,Array.isArray(t))?n.has(t)?[1,[]]:n.add(t)&&[1,t.map(t=>k(e,t,n))]:"object"===r?O(t)?[14,{name:t.name,message:t.message,stack:t.stack}]:""===(o=i(t))?[2,{}]:"Window"===o?[3,[e,e]]:"HTMLCollection"===o||"NodeList"===o?[7,Array.from(t).map(t=>k(e,t,n)[1])]:o.endsWith("Event")?[5,R(e,t,n)]:"CSSRuleList"===o?[12,Array.from(t).map(x)]:a(o,"CSS")&&o.endsWith("Rule")?[11,x(t)]:"CSSStyleDeclaration"===o?[13,R(e,t,n)]:"Attr"===o?[10,[t.name,t.value]]:t.nodeType?[3,[e,$(t),s(t)]]:[2,R(e,t,n,!0,!0)]:void 0:t,R=(e,t,n,r,i,a,s,d)=>{if(a={},!n.has(t))for(s in n.add(t),t)o(s)&&(d=t[s],(r||"function"!=typeof d)&&(i||""!==d)&&(a[s]=k(e,d,n)));return a},x=e=>{let t={},n;for(n in e)j.includes(n)&&(t[n]=String(e[n]));return t},O=t=>t instanceof e.top.Error,P=(t,n,r,i)=>{if(n)return r=n[0],i=n[1],0===r?i:4===r?W(t,i):1===r?i.map(e=>P(t,e)):3===r?h(i[0],i[1]):5===r?U(N(t,i)):2===r?N(t,i):8===r?i:9===r?new e[n[2]](i):void 0},W=(e,{$winId$:t,$instanceId$:n,$refId$:r},i)=>((i=g.get(r))||(i=function(...i){e.postMessage([9,{$winId$:t,$instanceId$:n,$refId$:r,$thisArg$:k(t,this),$args$:k(t,i)}])},g.set(r,i)),i),U=e=>new("detail"in e?CustomEvent:Event)(e.type,e),N=(e,t,n,r)=>{for(r in n={},t)n[r]=P(e,t[r]);return n},j="cssText,selectorText,href,media,namespaceURI,prefix,name,conditionText".split(","),A=async(e,n)=>{let i={$msgId$:n.$msgId$},a=r(n.$tasks$),o=0,s,d,l,c,p,u;for(;o<a;o++)try{u=o===a-1,d=(s=n.$tasks$[o]).$winId$,l=s.$applyPath$,!m[d]&&d.startsWith("f_")&&await new Promise(e=>{let t=0,n=()=>{m[d]||t++>1e3?e():requestAnimationFrame(n)};n()}),1===l[0]&&l[1]in m[d].$window$?b(new m[d].$window$[l[1]](...P(e,l[2])),s.$instanceId$):(c=h(d,s.$instanceId$))?(p=z(e,d,c,l,u,s.$groupedGetters$),s.$assignInstanceId$&&("string"==typeof s.$assignInstanceId$?b(p,s.$assignInstanceId$):m[s.$assignInstanceId$.$winId$]={$winId$:s.$assignInstanceId$.$winId$,$window$:{document:p}}),t(p)&&(p=await p,u&&(i.$isPromise$=!0)),u&&(i.$rtnValue$=k(d,p))):(i.$error$=`Error finding instance "${s.$instanceId$}" on window ${M(d)}`,console.error(i.$error$,s))}catch(w){u?i.$error$=String(w.stack||w):console.error(w)}return i},z=(e,t,n,a,o,s)=>{let d=0,l=r(a),c,p,u,w,f;for(;d<l;d++){p=a[d],c=a[d+1],u=a[d-1];try{if(!Array.isArray(c)){if("string"==typeof p||"number"==typeof p){if(d+1===l&&s)return f={},s.map(e=>f[e]=n[e]),f;n=n[p]}else{if(0===c){n[u]=P(e,p);return}if("function"==typeof n[u]&&(w=P(e,p),"define"===u&&"CustomElementRegistry"===i(n)&&(w[1]=C(t,e,w[1])),"insertRule"===u&&w[1]>r(n.cssRules)&&(w[1]=r(n.cssRules)),n=n[u].apply(n,w),"play"===u))return Promise.resolve()}}}catch(g){if(o)throw g;console.debug("Non-blocking setter error:",g)}}return n},D=(e,t,n)=>{if(!y.has(n)){y.set(n,t);let r=n.document,i=n.history,a=y.get(n.parent),o=()=>e.postMessage([5,{$winId$:t,$parentWinId$:a,$url$:r.baseURI,$visibilityState$:r.visibilityState}]),s=i.pushState.bind(i),d=i.replaceState.bind(i),l=(n,i,a,o)=>{setTimeout(()=>{e.postMessage([13,{$winId$:t,type:n,state:i,url:r.baseURI,newUrl:a,oldUrl:o}])})};i.pushState=(e,t,n)=>{s(e,t,n),l(0,e,null==n?void 0:n.toString())},i.replaceState=(e,t,n)=>{d(e,t,n),l(1,e,null==n?void 0:n.toString())},n.addEventListener("popstate",e=>{l(2,e.state)}),n.addEventListener("hashchange",e=>{l(3,{},e.newURL,e.oldURL)}),r.addEventListener("visibilitychange",()=>e.postMessage([14,t,r.visibilityState])),m[t]={$winId$:t,$window$:n},m[t].$startTime$=performance.now();{let c=t===a?"top":"iframe";T(`Registered ${c} window ${M(t)}`)}"complete"===r.readyState?o():n.addEventListener("load",o)}},G=(e,t)=>{let n=t.$winId$,i=t.$window$,a=i.document,o='script[type="text/partytown"]:not([data-ptid]):not([data-pterror])',s,d,l;if(a&&a.body){if((s=a.querySelector('script[type="text/partytown"]:not([data-ptid]):not([data-pterror]):not([async]):not([defer])'))||(s=a.querySelector(o)),s)s.dataset.ptid=d=$(s,n),l={$winId$:n,$instanceId$:d},s.src?(l.$url$=s.src,l.$orgUrl$=s.dataset.ptsrc||s.src):l.$content$=s.innerHTML,e.postMessage([7,l]);else{if(!t.$isInitialized$){t.$isInitialized$=1,((e,t,n)=>{let i=n._ptf,a=(n.partytown||{}).forward||[],o,s,d=(n,r)=>e.postMessage([10,{$winId$:t,$forward$:n,$args$:k(t,Array.from(r))}]);if(n._ptf=void 0,a.map(e=>{s=n,e.split(".").map((e,t,n)=>{s=s[n[t]]=t+1<r(n)?s[n[t]]||("push"===n[t+1]?[]:{}):(...e)=>d(n,e)})}),i)for(o=0;o<r(i);o+=2)d(i[o],i[o+1])})(e,n,i),a.dispatchEvent(new CustomEvent("pt0"));{let c=i===i.top?"top":"iframe";T(`Executed ${c} window ${M(n)} environment scripts in ${(performance.now()-t.$startTime$).toFixed(1)}ms`)}}e.postMessage([8,n])}}else requestAnimationFrame(()=>G(e,t))},H=(e,t,n)=>{4===t[0]?D(e,d(),v):(n=m[t[1]])&&(7===t[0]?requestAnimationFrame(()=>G(e,n)):6===t[0]&&((e,t,n,r,i)=>{(i=t.$window$.document.querySelector(`[data-ptid="${n}"]`))&&(r?i.dataset.pterror=r:i.type+="-x",delete i.dataset.ptid),G(e,t)})(e,n,t[2],t[3]))},q=()=>{let e=I.createElement("i"),t=I.createTextNode(""),n=I.createComment(""),r=I.createDocumentFragment(),i=I.createElement("p").attachShadow({mode:"open"}),a=Y(v,"IntersectionObserver"),o=Y(v,"MutationObserver"),s=Y(v,"ResizeObserver"),d=v.performance,l=v.screen,c=[[v.history],[d],[d.navigation],[d.timing],[l],[l.orientation],[v.visualViewport],[a,12],[o,12],[s,12],[t],[n],[r],[i],[e],[e.attributes],[e.classList],[e.dataset],[e.style],[I],[I.doctype]],p=[Q("Window",v),Q("Node",t)],u=JSON.stringify(S,(e,t)=>("function"==typeof t&&(t=String(t)).startsWith(e+"(")&&(t="function "+t),t)),w={$config$:u,$interfaces$:J(c,p),$libPath$:new URL(E,v.location)+"",$origin$:origin,$localStorage$:K("localStorage"),$sessionStorage$:K("sessionStorage")};return Z(w.$interfaces$,v,"IntersectionObserverEntry"),w},V=()=>{let e=Object.getOwnPropertyNames(v).map(e=>((e,t,n,r)=>{if(n=t.match(/^(HTML|SVG)(.+)Element$/))return r=n[2],"S"==t[0]?e.createElementNS("http://www.w3.org/2000/svg",p[r]||r.slice(0,2).toLowerCase()+r.slice(2)):e.createElement(c[r]||r)})(I,e)).filter(e=>e).map(e=>[e]);return J(e,[])},F=new Set(["Object"]),J=(e,t)=>{let n=e.filter(e=>e[0]).map(e=>{let t=e[0],n=e[1],r=i(t),a=v[r].prototype;return[r,a,t,n]});return n.map(([e,n,r,i])=>X(F,t,e,n,r,i)),t},Q=(e,t,n)=>{let r=[],i=[e,"Object",r];for(n in t)B(r,t,n);return i},X=(e,t,n,r,a,o)=>{if(!e.has(n)){e.add(n);let d=Object.getPrototypeOf(r),l=i(d),c=[],p=Object.getOwnPropertyDescriptors(r);for(let u in X(e,t,l,d,a,o),p)B(c,a,u);t.push([n,l,c,o,s(a)])}},B=(e,t,n,r,a,s)=>{try{o(n)&&isNaN(n[0])&&"all"!==n&&(a=typeof(r=t[n]),"function"===a?(String(r).includes("[native")||Object.getPrototypeOf(t)[n])&&e.push([n,5]):"object"===a&&null!=r?(s=i(r),"Object"!==s&&self[s]&&e.push([n,r.nodeType||s])):"symbol"!==a&&(n.toUpperCase()===n?e.push([n,6,r]):e.push([n,6])))}catch(d){console.warn(d)}},K=e=>{let t=[],n=0,i=r(v[e]),a;for(;n<i;n++)t.push([a=v[e].key(n),v[e].getItem(a)]);return t},Y=(e,t)=>void 0!==e[t]?new e[t](n):0,Z=(e,t,n)=>{void 0!==t[n]&&e.push([n,"Object",Object.keys(t[n].prototype).map(e=>[e,6]),12])},ee;(t=>{let n=e.navigator.serviceWorker;return n.getRegistration().then(e=>(n.addEventListener("message",n=>t(n.data,t=>e.active&&e.active.postMessage(t))),(e,t)=>{0===t[0]?e.postMessage([1,q()]):2===t[0]?e.postMessage([3,V()]):H(e,t)}))})((e,t)=>A(ee,e).then(t)).then(e=>{e&&((ee=new Worker(E+"partytown-ww-sw.js?v=0.7.0",{name:"Partytown \uD83C\uDF89"})).onmessage=t=>{let n=t.data;12===n[0]?A(ee,n[1]):e(ee,n)},T("Created Partytown web worker (0.7.0)"),ee.onerror=e=>console.error("Web Worker Error",e),v.addEventListener("pt1",e=>D(ee,$(e.detail.frameElement),e.detail)))})})(window);