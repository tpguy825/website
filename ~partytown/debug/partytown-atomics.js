(e=>{let t=e=>"object"==typeof e&&e&&e.then,n=()=>{},r=e=>e.length,i=e=>{var t,n,r;try{let i=null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name;if(i)return i}catch(o){}try{let a=null===(r=null===(n=null==e?void 0:e.__zone_symbol__originalInstance)||void 0===n?void 0:n.constructor)||void 0===r?void 0:r.name;if(a)return a}catch(s){}return""},o=(e,t)=>e.startsWith(t),a=e=>!(o(e,"webkit")||o(e,"toJSON")||o(e,"constructor")||o(e,"toString")||o(e,"_")),s=e=>11===e.nodeType&&e.host?"#s":e.nodeName,d=()=>Math.round(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),l=(e,t)=>{var n,r,i;return r="name",Object.defineProperty(n=e,r,{value:t,configurable:!0})},c={Anchor:"a",DList:"dl",Image:"img",OList:"ol",Paragraph:"p",Quote:"q",TableCaption:"caption",TableCell:"td",TableCol:"colgroup",TableRow:"tr",TableSection:"tbody",UList:"ul"},p={Graphics:"g",SVG:"svg"},u=Symbol(),w=Symbol(),f=new Map,m=new Map,g={},y=new WeakMap,$=(e,t)=>{if(e)return(t=y.get(e))||(t=e[u])||_(e,t=d()),t},h=(e,t,n,r,i)=>{if((n=g[e])&&n.$window$){if(e===t)return n.$window$;if(r=n.$window$.document,"d"===(i=t.split(".").pop()))return r;if("e"===i)return r.documentElement;if("h"===i)return r.head;if("b"===i)return r.body}return f.get(t)},_=(e,t,n)=>{e&&(f.set(t,e),e[u]=t,e[w]=n=Date.now(),n>b+5e3&&(f.forEach((e,t)=>{e[w]<b&&e.nodeType&&!e.isConnected&&f.delete(t)}),b=n))},b=0,v=e.parent,I=document.implementation.createHTMLDocument(),S=v.partytown||{},E=(S.lib||"/~partytown/")+"debug/",T=e=>{console.debug.apply(console,["%cMain \uD83C\uDF0E","background: #717171; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;",e])},C=[],L=e=>(C.includes(e)||C.push(e),C.indexOf(e)+1),M=(e,t,n)=>{let r=l(class extends g[e].$window$.HTMLElement{},n[0]),i="connectedCallback,disconnectedCallback,attributeChangedCallback,adoptedCallback".split(",");return i.map(n=>r.prototype[n]=function(...r){t.postMessage([15,e,$(this),n,r])}),r.observedAttributes=n[1],r},k=(e,t,n,r,a)=>void 0!==t&&(r=typeof t)?"string"===r||"number"===r||"boolean"===r||null==t?[0,t]:"function"===r?[6]:(n=n||new Set,Array.isArray(t))?n.has(t)?[1,[]]:n.add(t)&&[1,t.map(t=>k(e,t,n))]:"object"===r?R(t)?[14,{name:t.name,message:t.message,stack:t.stack}]:""===(a=i(t))?[2,{}]:"Window"===a?[3,[e,e]]:"HTMLCollection"===a||"NodeList"===a?[7,Array.from(t).map(t=>k(e,t,n)[1])]:a.endsWith("Event")?[5,x(e,t,n)]:"CSSRuleList"===a?[12,Array.from(t).map(O)]:o(a,"CSS")&&a.endsWith("Rule")?[11,O(t)]:"CSSStyleDeclaration"===a?[13,x(e,t,n)]:"Attr"===a?[10,[t.name,t.value]]:t.nodeType?[3,[e,$(t),s(t)]]:[2,x(e,t,n,!0,!0)]:void 0:t,x=(e,t,n,r,i,o,s,d)=>{if(o={},!n.has(t))for(s in n.add(t),t)a(s)&&(d=t[s],(r||"function"!=typeof d)&&(i||""!==d)&&(o[s]=k(e,d,n)));return o},O=e=>{let t={},n;for(n in e)N.includes(n)&&(t[n]=String(e[n]));return t},R=t=>t instanceof e.top.Error,P=(t,n,r,i)=>{if(n)return r=n[0],i=n[1],0===r?i:4===r?U(t,i):1===r?i.map(e=>P(t,e)):3===r?h(i[0],i[1]):5===r?W(A(t,i)):2===r?A(t,i):8===r?i:9===r?new e[n[2]](i):void 0},U=(e,{$winId$:t,$instanceId$:n,$refId$:r},i)=>((i=m.get(r))||(i=function(...i){e.postMessage([9,{$winId$:t,$instanceId$:n,$refId$:r,$thisArg$:k(t,this),$args$:k(t,i)}])},m.set(r,i)),i),W=e=>new("detail"in e?CustomEvent:Event)(e.type,e),A=(e,t,n,r)=>{for(r in n={},t)n[r]=P(e,t[r]);return n},N="cssText,selectorText,href,media,namespaceURI,prefix,name,conditionText".split(","),j=async(e,n)=>{let i={$msgId$:n.$msgId$},o=r(n.$tasks$),a=0,s,d,l,c,p,u;for(;a<o;a++)try{u=a===o-1,d=(s=n.$tasks$[a]).$winId$,l=s.$applyPath$,!g[d]&&d.startsWith("f_")&&await new Promise(e=>{let t=0,n=()=>{g[d]||t++>1e3?e():requestAnimationFrame(n)};n()}),1===l[0]&&l[1]in g[d].$window$?_(new g[d].$window$[l[1]](...P(e,l[2])),s.$instanceId$):(c=h(d,s.$instanceId$))?(p=D(e,d,c,l,u,s.$groupedGetters$),s.$assignInstanceId$&&("string"==typeof s.$assignInstanceId$?_(p,s.$assignInstanceId$):g[s.$assignInstanceId$.$winId$]={$winId$:s.$assignInstanceId$.$winId$,$window$:{document:p}}),t(p)&&(p=await p,u&&(i.$isPromise$=!0)),u&&(i.$rtnValue$=k(d,p))):(i.$error$=`Error finding instance "${s.$instanceId$}" on window ${L(d)}`,console.error(i.$error$,s))}catch(w){u?i.$error$=String(w.stack||w):console.error(w)}return i},D=(e,t,n,o,a,s)=>{let d=0,l=r(o),c,p,u,w,f;for(;d<l;d++){p=o[d],c=o[d+1],u=o[d-1];try{if(!Array.isArray(c)){if("string"==typeof p||"number"==typeof p){if(d+1===l&&s)return f={},s.map(e=>f[e]=n[e]),f;n=n[p]}else{if(0===c){n[u]=P(e,p);return}if("function"==typeof n[u]&&(w=P(e,p),"define"===u&&"CustomElementRegistry"===i(n)&&(w[1]=M(t,e,w[1])),"insertRule"===u&&w[1]>r(n.cssRules)&&(w[1]=r(n.cssRules)),n=n[u].apply(n,w),"play"===u))return Promise.resolve()}}}catch(m){if(a)throw m;console.debug("Non-blocking setter error:",m)}}return n},z=(e,t,n)=>{if(!y.has(n)){y.set(n,t);let r=n.document,i=n.history,o=y.get(n.parent),a=()=>e.postMessage([5,{$winId$:t,$parentWinId$:o,$url$:r.baseURI,$visibilityState$:r.visibilityState}]),s=i.pushState.bind(i),d=i.replaceState.bind(i),l=(n,i,o,a)=>{setTimeout(()=>{e.postMessage([13,{$winId$:t,type:n,state:i,url:r.baseURI,newUrl:o,oldUrl:a}])})};i.pushState=(e,t,n)=>{s(e,t,n),l(0,e,null==n?void 0:n.toString())},i.replaceState=(e,t,n)=>{d(e,t,n),l(1,e,null==n?void 0:n.toString())},n.addEventListener("popstate",e=>{l(2,e.state)}),n.addEventListener("hashchange",e=>{l(3,{},e.newURL,e.oldURL)}),r.addEventListener("visibilitychange",()=>e.postMessage([14,t,r.visibilityState])),g[t]={$winId$:t,$window$:n},g[t].$startTime$=performance.now();{let c=t===o?"top":"iframe";T(`Registered ${c} window ${L(t)}`)}"complete"===r.readyState?a():n.addEventListener("load",a)}},G=(e,t)=>{let n=t.$winId$,i=t.$window$,o=i.document,a='script[type="text/partytown"]:not([data-ptid]):not([data-pterror])',s,d,l;if(o&&o.body){if((s=o.querySelector('script[type="text/partytown"]:not([data-ptid]):not([data-pterror]):not([async]):not([defer])'))||(s=o.querySelector(a)),s)s.dataset.ptid=d=$(s,n),l={$winId$:n,$instanceId$:d},s.src?(l.$url$=s.src,l.$orgUrl$=s.dataset.ptsrc||s.src):l.$content$=s.innerHTML,e.postMessage([7,l]);else{if(!t.$isInitialized$){t.$isInitialized$=1,((e,t,n)=>{let i=n._ptf,o=(n.partytown||{}).forward||[],a,s,d=(n,r)=>e.postMessage([10,{$winId$:t,$forward$:n,$args$:k(t,Array.from(r))}]);if(n._ptf=void 0,o.map(e=>{s=n,e.split(".").map((e,t,n)=>{s=s[n[t]]=t+1<r(n)?s[n[t]]||("push"===n[t+1]?[]:{}):(...e)=>d(n,e)})}),i)for(a=0;a<r(i);a+=2)d(i[a],i[a+1])})(e,n,i),o.dispatchEvent(new CustomEvent("pt0"));{let c=i===i.top?"top":"iframe";T(`Executed ${c} window ${L(n)} environment scripts in ${(performance.now()-t.$startTime$).toFixed(1)}ms`)}}e.postMessage([8,n])}}else requestAnimationFrame(()=>G(e,t))},H=(e,t,n)=>{4===t[0]?z(e,d(),v):(n=g[t[1]])&&(7===t[0]?requestAnimationFrame(()=>G(e,n)):6===t[0]&&((e,t,n,r,i)=>{(i=t.$window$.document.querySelector(`[data-ptid="${n}"]`))&&(r?i.dataset.pterror=r:i.type+="-x",delete i.dataset.ptid),G(e,t)})(e,n,t[2],t[3]))},q=()=>{let e=Object.getOwnPropertyNames(v).map(e=>((e,t,n,r)=>{if(n=t.match(/^(HTML|SVG)(.+)Element$/))return r=n[2],"S"==t[0]?e.createElementNS("http://www.w3.org/2000/svg",p[r]||r.slice(0,2).toLowerCase()+r.slice(2)):e.createElement(c[r]||r)})(I,e)).filter(e=>e).map(e=>[e]);return F(e,[])},V=new Set(["Object"]),F=(e,t)=>{let n=e.filter(e=>e[0]).map(e=>{let t=e[0],n=e[1],r=i(t),o=v[r].prototype;return[r,o,t,n]});return n.map(([e,n,r,i])=>J(V,t,e,n,r,i)),t},B=(e,t,n)=>{let r=[],i=[e,"Object",r];for(n in t)Q(r,t,n);return i},J=(e,t,n,r,o,a)=>{if(!e.has(n)){e.add(n);let d=Object.getPrototypeOf(r),l=i(d),c=[],p=Object.getOwnPropertyDescriptors(r);for(let u in J(e,t,l,d,o,a),p)Q(c,o,u);t.push([n,l,c,a,s(o)])}},Q=(e,t,n,r,o,s)=>{try{a(n)&&isNaN(n[0])&&"all"!==n&&(o=typeof(r=t[n]),"function"===o?(String(r).includes("[native")||Object.getPrototypeOf(t)[n])&&e.push([n,5]):"object"===o&&null!=r?(s=i(r),"Object"!==s&&self[s]&&e.push([n,r.nodeType||s])):"symbol"!==o&&(n.toUpperCase()===n?e.push([n,6,r]):e.push([n,6])))}catch(d){console.warn(d)}},X=e=>{let t=[],n=0,i=r(v[e]),o;for(;n<i;n++)t.push([o=v[e].key(n),v[e].getItem(o)]);return t},K=(e,t)=>void 0!==e[t]?new e[t](n):0,Y=(e,t,n)=>{void 0!==t[n]&&e.push([n,"Object",Object.keys(t[n].prototype).map(e=>[e,6]),12])},Z;(async e=>{let t=new SharedArrayBuffer(1073741824),n=new Int32Array(t);return(r,i)=>{let o=i[0],a=i[1];if(0===o){let s=(()=>{let e=I.createElement("i"),t=I.createTextNode(""),n=I.createComment(""),r=I.createDocumentFragment(),i=I.createElement("p").attachShadow({mode:"open"}),o=K(v,"IntersectionObserver"),a=K(v,"MutationObserver"),s=K(v,"ResizeObserver"),d=v.performance,l=v.screen,c=[[v.history],[d],[d.navigation],[d.timing],[l],[l.orientation],[v.visualViewport],[o,12],[a,12],[s,12],[t],[n],[r],[i],[e],[e.attributes],[e.classList],[e.dataset],[e.style],[I],[I.doctype]],p=[B("Window",v),B("Node",t)],u=JSON.stringify(S,(e,t)=>("function"==typeof t&&(t=String(t)).startsWith(e+"(")&&(t="function "+t),t)),w={$config$:u,$interfaces$:F(c,p),$libPath$:new URL(E,v.location)+"",$origin$:origin,$localStorage$:X("localStorage"),$sessionStorage$:X("sessionStorage")};return Y(w.$interfaces$,v,"IntersectionObserverEntry"),w})();s.$sharedDataBuffer$=t,r.postMessage([1,s])}else 2===i[0]?r.postMessage([3,q()]):11===o?e(a,e=>{let t=JSON.stringify(e),r=t.length;for(let i=0;i<r;i++)n[i+1]=t.charCodeAt(i);n[0]=r,Atomics.notify(n,0)}):H(r,i)}})((e,t)=>j(Z,e).then(t)).then(e=>{e&&((Z=new Worker(E+"partytown-ww-atomics.js?v=0.7.0",{name:"Partytown \uD83C\uDF89"})).onmessage=t=>{let n=t.data;12===n[0]?j(Z,n[1]):e(Z,n)},T("Created Partytown web worker (0.7.0)"),Z.onerror=e=>console.error("Web Worker Error",e),v.addEventListener("pt1",e=>z(Z,$(e.detail.frameElement),e.detail)))})})(window);